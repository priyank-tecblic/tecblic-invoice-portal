<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/css/datepicker.min.css"
rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/js/bootstrap-datepicker.min.js"></script>
<link rel="icon" type="image/x-icon" href="/static/tecblic.png">
<link rel="stylesheet" type="text/css"
href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">

<link href="/static/assets/css/material-dashboard.css?v=2.1.2" rel="stylesheet" />
<link href="/static/assets/css/material-dashboard-rtl.css?v=2.1.2" rel="stylesheet" />
<title>Invoice</title>
{% load widget_tweaks %}
<style>

body{
background-color: #ffffff;
overflow-x: hidden;

}

* {
box-sizing: border-box;
}
#s3
{
color: aliceblue;
font-weight: bold;
}
input[type=text], select, textarea {
width: 117%;
padding: 12px;
border: 1px solid #fff;
border-radius: 4px;
resize: vertical;
}
textarea{ 
  width: 90%;
  margin-left:3% ;
  border-color: black;
  disabled;
}

label {
padding: 12px 12px 12px 0;
display: inline-block;
}

input[type=submit] {
background-color: #04AA6D;
color: white;
padding: 12px 20px;
border: none;
border-radius: 4px;
cursor: pointer;
float: right;
}

input[type=submit]:hover {
background-color: #45a049;
}

.container {
border-radius: 5px;
background-color: rgb(167, 157, 145);
padding: 20px;
margin-top: 10px;
}

.col-25 {
float: left;
width: 25%;
margin-top: 2px;
}


.col-75 {
float: left;
width: 75%;
margin-top: 2px;
}

/* Clear floats after the columns */
.row:after {
content: "";
display: table;
clear: both;
}


@media screen and (max-width: 600px) {
.col-25, .col-75, input[type=submit] {
width: 100%;
margin-top: 0;
}
}
#sacid
{
cursor:default;
}

#id_payment_method
{
  width: 70%;
}
#id_client
{
  width: 62%;

}
#id_send_email
{
  width: 123%;
}
#id_payment_method
{
  position: relative;
    right: 60px;
}
#id_payment_method
{
    top: 1px;
}

@media only screen and (min-device-width : 768px)  and (max-device-width : 1024px) {
.col-25, .col-75, input[type=submit]{
width: 100%;
margin-top: 0;
}
}
#sacid
{
cursor:default;
}
#id_gst_type
{
  
 position:absolute;
  width: 17.5rem;
  margin-left: -134px;
  margin-top:293px;
}
#id_payment_method
{
  width: 70%;
}
{% comment %} #id_client
{
  width: 70%;

} {% endcomment %}
#id_send_email
{
  width: 123%;
}
#id_payment_method
{
  position: relative;

    right: 60px;
}
#id_payment_method
{
    top: 1px;
}

label {
  display: flex;
  align-items: center;
  margin: 15px 20px;
  cursor: pointer;
  font-size: 20px;
}

input[type="radio"] {
  opacity: 0;
}

.design {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  outline-offset: 3px;
  outline: 3px solid #888888;
  margin-right: 20px;
}

input[type="radio"]:checked~.design {
  outline-color: black;
  background: #a90a9c;
}

input[type="radio"]:checked~.value {
  color: #005221;
}

@media only screen and (min-width: 992px) {
  .dropdown-label {
    font-size: 20px;
  }
}
</style>
</head>
<body>
{% include 'tecblicapp/navbar.html' %}
{% block content %}

{% endblock %}
<form action="{% url 'generate_invoice' %}" method="POST">
  {% csrf_token %}
<h4 class="text-sm-left text-orange " style="font-weight:bold;font-size: 35px;font-weight: 800; margin-left: 45rem; color: #000;">Generate Invoice</h4>

<div class="col-25">
  <h3 class="text-right" style="font-weight: bold;position: relative;left: 1099px;bottom: 69px;">
    <b>Invoice Number :</b></h4>
  <label style="position: relative;font-weight:bold;">{{invoices.sac_code}}<h4 style="position: relative;left: 1062px;bottom: 86px;left: 1060px;font-weight:bold;" id="sacid2" class="text-right text-dark"></h4></label>
    <br/>
  </div>
<br>
<hr>
<div class="section-content" style="margin-left: 494px; margin-top: 50px;">
  <h3 style="font-weight: bold;"><b>Payment Status :</b></h3>
</div>

<div class="radio-inline">
  <label class="text-dark" style="margin-left: 468px;"> <br>
    <label style="color: black;">
      <input type="radio" name="payment_status" value="PENDING" required>
      <span class="design"></span>
      <span class="value">PENDING</span>
    </label>
    <label style="color: black;">
      <input type="radio" name="payment_status" value="PAID">
      <span class="design"></span>
      <span class="value">PAID</span>
    </label> 
  </div>
  
  <div class="section-content" style="margin-left: 1028px;position: relative;bottom: 177px;">
    <h3 style="font-weight: bold;"><b>Working Hours :</b></h3>
  </div>
  <div class="radio-inline">
    <label class="text-dark" style="margin-left: 1003px;position: relative;bottom: 193px;"> <br>
      <label style= "color: black;">
        <input type="radio" name="qty_type" value="HRS" required>
        <span class="design"></span>
        <span class="value">HRS</span>
      </label>
      <label style="color: black;">
        <input type="radio" name="qty_type" value="DAY">
        <span class="design"></span>
        <span class="value">DAYS</span>
      </label>
      <h3 style="font-weight: bold;margin-left: -790px;position: relative;top: 50px;top: 80px;"><b>GST type : </b></h3>
      <label>{{invoices.gst_type}}
        <i style="  
        font-size: 21px;
        color: black;
        position: relative;
        top: 147px;
        left: 115px;
        ;" class="fa fa-solid fa-angle-down"></i>
      </label>
      <h3 style="font-weight: bold;position: relative;top: 77px;margin-left:361px;"><b>Currency Type :</b></h3>
      <label style="position: relative;top: 140px;margin-left: -172px;width: 309px;">{{invoices.currency_type}}
        <i style="  
        font-size: 21px;
        color: black;
        position: relative;
        bottom: 0rem;
        right: 2.4rem;
        ;" class="fa fa-solid fa-angle-down"></i>
      </label>
      <br>
      <h3 style="font-weight: bold;position: relative;top: 300px;margin-left: -873px;"><b>Payment Method :</b></h3>
      
      
    </div>
    
    
    
    {% comment %} <label class="text-dark" style="position: relative; bottom: 16%; right: 105%;"> <br>
      <label style="color: black;">
    <input type="radio" name="payment_status" value="PENDING" required>
    <span class="design"></span>
    <span class="value">PENDING</span>
  </label>
  <label style="color: black;">
    <input type="radio" name="payment_status" value="PAID">
    <span class="design"></span>
    <span class="value">PAID</span>
  </label> 
  
  
  
</form>
{% comment %} <form action="{% url 'generate_invoice' %}" method="POST">
  <input type="hidden" name="payment_method" value="----">
  <br>
  {% csrf_token %}
  
  <br>
  <div class="row" style="margin-left: 5rem; margin-right: 5rem;">
    <div class="col-25" >
      <h4 style="font-weight:bold;position: relative; bottom: 4px;border-color: black;left: 247px;"><b style="position: relative; right: 13rem;bottom: 2rem;"> Choose Date : </b></h4>
      <label style="position: relative; left: 15rem; bottom: 5.6rem;" >{{invoices.invoice_date}}</label></span>
    </div>
    
    
    <div class="col-25">
      <label for="dropdown" class="text-dark" style="position: relative; right: 101%" ><b>Payment Status</b></label>
      
      <!-- <h4 style="font-weight:bold;position: relative; top: 46px; right: 109%;"><b style="position: relative; left: 3rem;">Payment Status </b></h4>  -->
      
      <label class="text-dark" style="position: relative; bottom: 16%; right: 105%;"> <br>
        <label style="color: black;">
          <input type="radio" name="payment_status" value="PENDING" required>
          <span class="design"></span>
          <span class="value">PENDING</span>
        </label>
        <label style="color: black;">
          <input type="radio" name="payment_status" value="PAID">
          <span class="design"></span>
          <span class="value">PAID</span>
        </label>
        
        <!-- <input type="radio" name="payment_status" value="PENDING"> PENDING
          <input type="radio" name="payment_status" style="margin-left: 10px;" value="PAID"> PAID  -->
          
          <!-- {{invoices.payment_status}} -->
        </label>
      </div>
      
      <div class="col-25" style="margin-top:47px;">
        <h4 style="font-weight:bold;position: relative; top: 40px; " ><b style="position: relative; top: 100px; right: 202%;">Payment Method</b></h4>
        
        
        <label style="position: absolute;
        margin-top: 80px;
        left:413px;width: 17.6rem;">{{invoices.payment_method}}
        <i style="font-size: 21px;
        color: black;
        position: absolute;
        left: 238px;" class="fa fa-solid fa-angle-down"></i>
      </label>  
    </div> 
    
    <div class="col-25">
      <h4 class="text-right" style="font-weight: bold;
      position: relative;
      bottom: 130px;
      right: 100%;
      "><b>SAC CODE :</b></h4>
      <label style="position: relative; bottom: 52px;right: 300px;">{{invoices.sac_code}}<h4 style="position: relative;
        bottom: 8.2rem;
        font-weight: 400;
        margin-left:19rem;" id="sacid2" class="text-right text-dark"></h4></label>
        <br/>
      </div>
      <div class="col-25">
        <h4 style="font-weight: bold;
        position: relative;
        bottom: 46px;
        left: 52px;"><b style="position: relative; left:32rem; bottom: 140px;">Working Hours </b></h4>
        <label class="text-dark" style="position: relative;
        bottom: 108%;
        left: 33rem;">
        <label style= "color: black;">
          <input type="radio" name="qty_type" value="HRS" required>
          <span class="design"></span>
          <span class="value">HRS</span>
        </label>
        <label style="color: black;">
          <input type="radio" name="qty_type" value="DAY">
          <span class="design"></span>
          <span class="value">DAYS</span>
        </label>
        
        
        <div class="col-25" >
          <h4 style="font-weight:bold;position: relative; margin-top:84px;" ><b style="position: relative; top: 100px; right: 96%;">Currency Type</b></h4>
          
          <label style="position: absolute;
          margin-top: 42px;
          left:415px;width: 18.6rem;">{{invoices.currency_type}}
          <i style="font-size: 21px;
          color: black;
          position: relative;
          bottom: 0rem;
          right: 2rem;" class="fa fa-solid fa-angle-down"></i>
        </label>
      </div> {% endcomment %}
      
      
      
      
    </div>
    <div class="date" style="margin-left: 1028px;margin-top:35px;">
        <h3><b style="font-weight: bold;position: relative;bottom: 15px;">Choose Date : <br><b><br> {{invoices.invoice_date}}</b></h3>
    </div>
<div id="service_element" style="margin-left: 1%;">
<div style="height: 100px;">
  <label style="position: relative;margin-left: 467px;width: 309px;bottom: 73px;">{{invoices.payment_method}}
    <i style="  
  font-size: 21px;
  color: black;
  position: relative;
  right: 33px;" class="fa fa-solid fa-angle-down"></i>
  </label>
</div>
{% comment %} <div class="row" style="margin-left:6.3rem ;">
  <b style="font-weight:bold;font-size: 26px;margin-left: 354px;">Service1  </b>
  <div class="col-25">
    <div class="form-outline">
      <textarea class="form-control" name="description1" placeholder="Description" id="textAreaExample1" rows="6" style="position: relative;top: 27px;width: 774px; height: 94px;margin-left: 362px;" required></textarea>
      <label class="form-label" for="textAreaExample"></label>
    </div> {% endcomment %}
{% comment %} <label><input type="text" class="form-control" style="height: 159%;width: 130%;" id="desription" name = "description1" placeholder="Description" aria-describedby="basic-addon2" required></label> {% endcomment %}

</div>
{% comment %} <div class="col-25">
<label onfocusout="n()" ><input type="number" min="0" name="cost1" class="form-control",id="cost1" placeholder="Cost Per Unit" required></label>
</div>
<div class="col-25">
<label><input type="number" min="0" name="quantity1" class="form-control",id="quantity1" placeholder="quantity" required></label>
</div> {% endcomment %}
</div>
</div>
{% comment %} <div class="col-25">
  <label onfocusout="n()" ><input type="number" min="0" name="cost1" class="form-control",id="cost1" placeholder="Cost Per Unit" style="position: relative; left: 476px;" required></label>
</div>
<div class="col-25">
  <label><input type="number" min="0" name="quantity1" class="form-control",id="quantity1" placeholder="quantity" style="position: relative; left: 443px;" required></label>
  </div>
<button type="submit" class="btn btn-dark bg-dark text-right my-2" style="margin-left: 16px;height:45px;bottom: 224px;" id="btn">Add Service</button> {% endcomment %}


<div class="row" style="margin-left: 0%;">
<div class="col-25">
<label hidden="hidden">{{invoices.invoice_no}}</label>
</div>


<!-- <div class="col-25">
<label>{{invoices.cgst}}</label>
</div>
<div class="col-25">
<label>{{invoices.sgst}}</label>
</div>
<div class="col-25">
<label>{{invoices.gross_amount}}</label>
</div> -->
</div>
<div class="test" style="top: 20px;">
<h3 style="font-weight: bold;position: relative;left: 482px;">Client details :</h3>
<label style="width: 25%;">
<select name="client" id="id_client" style="position: relative;left: 464px;width: 286px;top: -5px;">
{% for i in clientdetails %}

<option value="{{i.id}}" name="client"> {{i.clientName}}</option>


{% endfor %}
</select>
<i style="   font-size: 21px;
color: black;
position: relative;
left: 440px;top: -3px;" class="fa fa-solid fa-angle-down"></i>
</label>
</div>

</div>

<h3 style="font-weight: bold;position: relative;margin-left:1027px;bottom: 150px;">Supplier Details :</h3>
<div class="row" style="margin-bottom:-124px;">
<div >
<label style="width: 25%;">
<select name="bank_info" style="position: relative;left: 1012px;bottom: 165px;width: 290px;" >
{% for i in bank %}
<option value="{{i.id}}" > {{i.bank_name}}</option>
{% endfor %}
</select>
<!-- {{bank_details.bank_info}} -->
<i style="font-size: 21px;
color: black;
position: relative;
left:974px;bottom: 163px;" class="fa fa-solid fa-angle-down"></i>
</label>
</div>
</div>

{% comment %} <div class="row">
  <h3 style="position: relative;bottom: 132px;margin-left: 816px;font-weight: bold;">Generate Mode </h3>
</div> {% endcomment %}
{% comment %} <div class="row" style="margin-left: 2%;">
  
<div class="col-25">
 
<label style="position: relative; left: 700px;width: 315px;bottom: 152px;">{{invoices.send_email}}<i style="  
  font-size: 21px;
  color: black;
  position: relative;
  bottom: 0rem;
  right: 2.4rem;
;" class="fa fa-solid fa-angle-down"></i></label>
</div> {% endcomment %}
<hr>
{% comment %} <div class="card card-inverse" style="background-color: #333; border-color: #333;">
  <div class="card-block">
    <h3 class="card-title">Special title treatment</h3>
    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
    <a href="#" class="btn btn-primary">Go somewhere</a>
  </div>
</div> {% endcomment %}
<br>

<h3 style="position: relative;font-weight: bold;left: 785px;font-size: 50px;">Services</h3>

<div class="card-body">
  <h3 style="font-weight:bold;position: relative;left: 477px;bottom: 7px;">Service1 : </h3>
  <button  class="btn bg-dark btn-sm" style="width: 76px;margin-left: 1218px;bottom: 168px;font-size: 40px;border-radius: 81px;" id="btn">+</button>
</div>
<div id="service_element_main">

  <div class="row">
    <div class="form-outline">
      <textarea class="form-control" name="description1" placeholder="Enter your Service details" id="textAreaExample1" rows="6" style="position: relative;top: -73px;width: 823px;margin-left: 500px;font-size: 20px;font-weight: bold;" required></textarea>
      <label class="form-label" for="textAreaExample"></label>
    </div>

    <div class="col-25" style="position: relative;bottom: 113px;margin-left: 484px;">
      <label onfocusout="n()" ><input type="number" min="0" name="cost1" class="form-control",id="cost1" placeholder="Enter Cost per Unit" style="width: 308px;font-weight: bold;" required></label>
      </div>

      <div class="col-25">
        <label><input type="number" min="0" name="quantity1" class="form-control",id="quantity1" placeholder="Enter Quantity" style="position:relative;width: 260px;bottom: 106px;left: 75px;font-weight: bold;" required></label>
        </div>
</div>
</div>

<hr style="margin-left: -58px; width: 109%;">


{% comment %} <button type="submit" class="btn bg-dark btn-sm" style="width: 76px;margin-left: 1232px;bottom: 414px;font-size: 40px;" id="btn">+</button> {% endcomment %}
<h3 style="font-weight:bold;margin-left: 120px;">Terms and Conditions:</h3>

<div class="row" style="margin-left: 2%;" >
<label>{{invoices.t_2 }}</label>
</div>

<div class="row" style="margin-left: 2%;">
<label>{{invoices.t_3}}</label>
</div>
<div class="row" style="margin-left: 2%;">
<label>{{invoices.t_4}}</label>
</div>
<div class="row" style="margin-left: 2%;">
<label>{{invoices.t_5}}</label>
</div>
</div>

<div class="radio-inline">
  <label class="text-dark" style="margin-left: 730px;position: relative;"> <br>
    <label style= "color: black;">
      <input type="radio" name="send_email"  value="only_generate" id="send_email" required>
      <span class="design"></span>
      <span class="value">Generate PDF</span>
    </label>
    <label style="color: black;">
      <input type="radio" name="send_email"  value="generate_and_send" id="send_email2">
      <span class="design"></span>
      <span class="value">Email</span>
    </label>
  </div>
{% comment %} <input id="submitt" type="submit" value="Generate PDF" class="btn btn-dark bg-dark my-4" style="position: relative;
bottom: 26px;
right: 48%;"/> {% endcomment %}
{% comment %} {% if invoices.invoice_date is not None%} {% endcomment %}
<button id="myButton" onclick="myFunction()" class="btn btn-dark bg-dark my-4" style="width: 170px;left: 830px;bottom: 35px;font-size: 16px;">Generate PDF</button>
   {% comment %} <p id="result"></p>
   <script>
      var count = 0;
      var button = document.getElementById("myButton");
      var result = document.getElementById("result");
      button.onclick = function() {
         count++;
         result.innerHTML = count;
         result.save()
      }
   </script>  {% endcomment %}
{% comment %} {% endif %} {% endcomment %}

<br>
<br>
 
</form>


</body>
<script>

var textt = document.getElementById("id_t_2");
function changestatus()
{
  
var paymentmode = document.getElementById('payment_status').value
var paymentmethod = document.getElementById('id_payment_method')

if(paymentmode=="PENDING")
{
paymentmethod.value = "----";
paymentmethod.disabled = true;
}
else
{
paymentmethod.disabled = false;
}

}

service = document.getElementById("service_element")
var k=1
function addElement(event)
{

k=k+1

// service.innerHTML = service.innerHTML + '<b>Service'+k+' :: </b><div class="row"><div class="col-25"><label><input type="text" class="form-control",id="desription'+k+'" name = "description'+k+'" placeholder="Description" ></label><br/></div><div class="col-25"><label onfocusout="n()" ><input type="number" name="cost'+k+'" class="form-control",id="cost'+k+'" placeholder="Cost Per Unit" required></label></div><div class="col-25"><label><input type="number" name="quantity'+k+'" class="form-control",id="quantity'+k+'" placeholder="quantity" required></label></div></div>';
}
$(document).ready(function(){
$("#btn").click(function(){
k=k+1
event.preventDefault();
// $("#service_element").append('<div class="row" id="element'+k+'>  <h3 style="font-weight:bold;position: relative;left: 489px;bottom: 78px;">Service'+k+' : </h3><div class="col-25" ><label><textarea class="form-control" style="height: 159%;width: 130%;" row="4" id="description1'+k+'" name = "description'+k+'" placeholder="Description" ></textarea></label><br/></div><div class="col-25"><label onfocusout="n()" ><input type="number" name="cost'+k+'" class="form-control",id="cost'+k+'" placeholder="Cost Per Unit" required></label></div><div class="col-25"><label><input type="number" name="quantity'+k+'" class="form-control",id="quantity'+k+'" placeholder="quantity" required></label></div><div class="col"><button class="mt-3 btn btn-outline-secondary" onclick="del(this.id)" id="bttn'+k+'">Remove</button></div></div>');
// });
$("#service_element_main").append('<div class="row" id="element'+k+'"><h3 style="font-weight:bold;position: relative;left: 500px;bottom: 78px;">Service'+k+' : </h3><div class="col-25"><div class="col-25" style="margin-top: 48px;"><textarea class="form-control" name="description1" placeholder="Enter your Service details" id="textAreaExample1" rows="6" style="position: relative;top: -109px;width: 823px;margin-left: 500px;font-size:20px;font-weight: bold;" required></textarea><label class="form-label" for="textAreaExample"></label></div><div class="col-25" style="position: relative;bottom: 113px;margin-left: 484px;"><label onfocusout="n()" ><input type="number" name="cost'+k+'" class="form-control",id="cost'+k+'" placeholder="Enter Cost Per Unit" style="width: 308px;font-weight: bold;"  required></label></div><div class="col-25"><label><input type="number" name="quantity'+k+'" class="form-control",id="quantity'+k+'" placeholder="Enter Quantity"  style="position: relative;width: 200px;bottom: 207px;left: 1091px;font-weight: bold;" required></label></div><div class="col" style="margin-left: 613px;bottom: 133px;"><button class="btn btn-danger btn-d-sm-flex" onclick="del(this.id)" id="bttn'+k+'"><i class="fa fa-close"></i> </button></div></div>');
});
service_element_main.scrollIntoView({behavior: "smooth"});
});

function del(id)
{
var id= String(id)
id = id.slice(4)
console.log("im in deleted")
document.getElementById("element"+id+"").remove()
k=k-1
}

id_t_2.rows = 5;
id_t_3.rows = 5;
id_t_4.rows = 5;
id_t_5.rows = 5;
$('#sacid').css('visibility','hidden')
  $("#sacid2").html($('#sacid').val())


function myFunction() {

  if (send_email.checked == true){
    alert("Invoice Created successfully !");
  }else if(send_email2.checked == true){
    alert("Invoice Created and sent to registered email-id")
  }
  }

</script>
</html>