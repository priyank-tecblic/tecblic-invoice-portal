<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/css/datepicker.min.css"
rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/js/bootstrap-datepicker.min.js"></script>
<link rel="icon" type="image/x-icon" href="/static/tecblic.png">
<link rel="stylesheet" type="text/css"
href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">

<link href="/static/assets/css/material-dashboard.css?v=2.1.2" rel="stylesheet" />
<link href="/static/assets/css/material-dashboard-rtl.css?v=2.1.2" rel="stylesheet" />
<title>Invoice</title>

<style>

body{
background-color: #ffffff;
overflow-x: hidden;
}

* {
box-sizing: border-box;
}
#s3
{
color: aliceblue;
font-weight: bold;
}
input[type=text], select, textarea {
width: 117%;
padding: 12px;
border: 1px solid #ccc;
border-radius: 4px;
resize: vertical;
}
textarea{ 
  width: 90%;
  margin-left:4% ;
}

label {
padding: 12px 12px 12px 0;
display: inline-block;
}

input[type=submit] {
background-color: #04AA6D;
color: white;
padding: 12px 20px;
border: none;
border-radius: 4px;
cursor: pointer;
float: right;
}

input[type=submit]:hover {
background-color: #45a049;
}

.container {
border-radius: 5px;
background-color: rgb(167, 157, 145);
padding: 20px;
margin-top: 10px;
}

.col-25 {
float: left;
width: 25%;
margin-top: 2px;
}


.col-75 {
float: left;
width: 75%;
margin-top: 2px;
}

/* Clear floats after the columns */
.row:after {
content: "";
display: table;
clear: both;
}


@media screen and (max-width: 600px) {
.col-25, .col-75, input[type=submit] {
width: 100%;
margin-top: 0;
}
}
#sacid
{
cursor:default;
}

#id_payment_method
{
  width: 70%;
}
#id_client
{
  width: 62%;

}
#id_send_email
{
  width: 123%;
}
#id_payment_method
{
  position: relative;
    right: 60px;
}
#id_payment_method
{
    top: 1px;
}

@media only screen and (min-device-width : 768px)  and (max-device-width : 1024px) {
.col-25, .col-75, input[type=submit]{
width: 100%;
margin-top: 0;
}
}
#sacid
{
cursor:default;
}
#id_gst_type
{
  
 position:absolute;
  width: 255px;
  margin-left: 261px;
  margin-top:-92px;
}
#id_payment_method
{
  width: 70%;
}
{% comment %} #id_client
{
  width: 70%;

} {% endcomment %}
#id_send_email
{
  width: 123%;
}
#id_payment_method
{
  position: relative;

    right: 60px;
}
#id_payment_method
{
    top: 1px;
}

label {
  display: flex;
  align-items: center;
  margin: 15px 20px;
  cursor: pointer;
  font-size: 20px;
}

input[type="radio"] {
  opacity: 0;
}

.design {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  outline-offset: 3px;
  outline: 3px solid #888888;
  margin-right: 20px;
}

input[type="radio"]:checked~.design {
  outline-color: black;
  background: #a90a9c;
}

input[type="radio"]:checked~.value {
  color: #005221;
}

@media only screen and (min-width: 992px) {
  .dropdown-label {
    font-size: 20px;
  }
}
</style>
</head>
<body>
{% include 'tecblicapp/navbar.html' %}
{% block content %}

{% endblock %}

<form action="{% url 'generate_invoice' %}" method="POST">
<input type="hidden" name="payment_method" value="----">
<br>
{% csrf_token %}
<h4 class="text-sm-left text-orange " style="font-weight:bold;margin-bottom:5%;font-size: 35px;font-weight: 800; margin-left: 8rem; color: black;">INVOICE DETAILS </h4>

<br>
<div class="row" style="margin-left: 5rem; margin-right: 5rem;">
<div class="col-25" >
<h4 style="font-weight:bold;position: relative; bottom: 4px;border-color: black;left: 247px;"><b style="position: relative; right: 13rem;bottom: 2rem;"> Choose Date : </b></h4>
<label style="position: relative; left: 15rem; bottom: 5.6rem;" >{{invoices.invoice_date}}</label></span>
</div>



<div class="col-25">
  <label for="dropdown" class="text-dark" style="position: relative; right: 101%" ><b>Payment Status</b></label>
  
<!-- <h4 style="font-weight:bold;position: relative; top: 46px; right: 109%;"><b style="position: relative; left: 3rem;">Payment Status </b></h4>  -->

<label class="text-dark" style="position: relative; bottom: 16%; right: 105%;"> <br>
  <label style="color: black;">
    <input type="radio" name="payment_status" value="PENDING" required>
    <span class="design"></span>
    <span class="value">PENDING</span>
  </label>
  <label style="color: black;">
    <input type="radio" name="payment_status" value="PAID">
    <span class="design"></span>
    <span class="value">PAID</span>
  </label>
  
<!-- <input type="radio" name="payment_status" value="PENDING"> PENDING
<input type="radio" name="payment_status" style="margin-left: 10px;" value="PAID"> PAID  -->

<!-- {{invoices.payment_status}} -->
</label>
</div>

<div class="col-25" style="margin-top:47px;">
  <h4 style="font-weight:bold;position: relative; top: 40px; " ><b style="position: relative; top: 100px; right: 204%;">Payment Method</b></h4>
  
  <label style="position: absolute;
  margin-top: 80px;
  left:413px;width: 23.6rem;" required>{{invoices.payment_method}}
  <i style="font-size: 21px;
    color: black;
    position: absolute;
    left: 172px;" class="fa fa-solid fa-angle-down"></i>
    </label>
  </div>
  
<div class="col-25">
<h4 class="text-right" style="font-weight: bold;
position: relative;
bottom: 130px;
right: 100%;
"><b>SAC CODE :</b></h4>
<label style="position: relative; bottom: 52px;right: 300px;">{{invoices.sac_code}}<h4 style="position: relative;
  bottom: 8.2rem;
  font-weight: 400;
  margin-left:19rem;" id="sacid2" class="text-right text-dark"></h4></label>
<br/>
</div>
<div class="col-25">
<h4 style="font-weight: bold;
position: relative;
bottom: 46px;
left: 52px;"><b style="position: relative; left:32rem; bottom: 140px;">Working Hours </b></h4>
<label class="text-dark" style="position: relative;
bottom: 108%;
left: 33rem;">
<label style= "color: black;">
  <input type="radio" name="qty_type" value="HRS" required>
  <span class="design"></span>
  <span class="value">HRS</span>
</label>
<label style="color: black;">
  <input type="radio" name="qty_type" value="DAY">
  <span class="design"></span>
  <span class="value">DAYS</span>
</label>
{% comment %} <input type="radio" name="qty_type" value="HRS"> HOURS
<input type="radio" style="margin-left: 10px;" name="qty_type" value="DAY"> DAYS {% endcomment %}
<!-- {{invoices.qty_type}} -->
</label>
<br/>
</div>

<div class="col-25" >
<h4 style="font-weight:bold;position: relative; margin-top:84px;" ><b style="position: relative; top: 100px; right: 98%;">Currency Type</b></h4>

<label style="position: absolute;
margin-top: 42px;
left:355px;width: 17.6rem;" required>{{invoices.currency_type}}
<i style="font-size: 21px;
  color: black;
  position: relative;
  bottom: 0rem;
  right: 2rem;" class="fa fa-solid fa-angle-down"></i>
  </label>
</div>


<div  class="col-25" style="margin-left:-50%">
  <h4  style="margin-left: 34px;margin-top:82px;  "
  ><b style="font-weight: bold;">GST Type</b></h4>
  <label required>
   {{invoices.gst_type}}<i style="font-size: 21px;
   color: black;
   position: relative;
   bottom: 46px;
   left: 487px;" class="fa fa-solid fa-angle-down"></i>
  </label>
  </div>

</div>
<div id="service_element" style="margin-left: 1%;">
<div style="height: 100px;"></div>
<div class="row" style="margin-left:5.7rem ;">
  <b style="font-weight:bold;">Service1  </b>
  <div class="col-25">
    <div class="form-outline">
      <textarea class="form-control" name="description1" placeholder="Description" id="textAreaExample1" rows="4" style="position: relative;top: 27px;width: 294px; height: 94px;" required></textarea>
      <label class="form-label" for="textAreaExample"></label>
    </div>
{% comment %} <label><input type="text" class="form-control" style="height: 159%;width: 130%;" id="desription" name = "description1" placeholder="Description" aria-describedby="basic-addon2" required></label> {% endcomment %}

</div>
<div class="col-25">
<label onfocusout="n()" ><input type="number" min="0" name="cost1" class="form-control",id="cost1" placeholder="Cost Per Unit" required></label>
</div>
<div class="col-25">
<label><input type="number" min="0" name="quantity1" class="form-control",id="quantity1" placeholder="quantity" required></label>
</div>
</div>
</div>
<button type="submit" class="btn btn-dark bg-dark text-right my-2" style="margin-left: 10%;height:45px;" id="btn">Add Service</button>


<div class="row" style="margin-left: 2%;">
<div class="col-25">
<label hidden="hidden">{{invoices.invoice_no}}</label>
</div>

<!-- <div class="col-25">
<label>{{invoices.cgst}}</label>
</div>
<div class="col-25">
<label>{{invoices.sgst}}</label>
</div>
<div class="col-25">
<label>{{invoices.gross_amount}}</label>
</div> -->
</div>
<div class="test" style="top: 20px;">
<h4 style="margin-left: 2%; position: relative; left: 7%; font-weight: bold; top: 4.5rem;" required>Client Details</h4>
<div class="row" style="margin-left: 2%;">
<div >
<label style="width: 25%;">
<select name="client" id="id_client" style="position: relative;left: 71%;" required>
{% for i in clientdetails %}

<option value="{{i.id}}" name="client"> {{i.clientName}}</option>


{% endfor %}
</select>
<i style="   font-size: 21px;
color: black;
position: relative;
left: 60%;" class="fa fa-solid fa-angle-down"></i>
</label>
</div>

</div>

<h4 style="margin-left: 9%; font-weight: bold;position: relative;top: 4.7rem;">Supplier Details</h4>
<div class="row" style="margin-left: 2%;">
<div >
<label style="width: 25%;">
<select name="bank_info" style="position: relative; left: 71%;width: 62%;" >
{% for i in bank %}
<option value="{{i.id}}" > {{i.bank_name}}</option>
{% endfor %}
</select>
<!-- {{bank_details.bank_info}} -->
<i style="font-size: 21px;
color: black;
position: relative;
left: 60%;" class="fa fa-solid fa-angle-down"></i>
</label>
</div>

</div>
<div class="row" style="margin-left: 2%;">
<div class="col-25">
<label style="position: relative; left: 73%;width: 18.8rem;">{{invoices.send_email}}<i style="  
  font-size: 21px;
  color: black;
  position: relative;
  bottom: 0rem;
  right: 3rem;
;" class="fa fa-solid fa-angle-down"></i></label>
</div>

</div>
<h3 style="font-weight:bold;margin-left: 9%;">Terms and Conditions:</h3>

<div class="row" style="margin-left: 2%;" >
<label>{{invoices.t_2}}</label>
</div>

<div class="row" style="margin-left: 2%;">
<label>{{invoices.t_3}}</label>
</div>
<div class="row" style="margin-left: 2%;">
<label>{{invoices.t_4}}</label>
</div>
<div class="row" style="margin-left: 2%;">
<label>{{invoices.t_5}}</label>
</div>
</div>
{% comment %} <input id="submitt" type="submit" value="Generate PDF" class="btn btn-dark bg-dark my-4" style="position: relative;
bottom: 26px;
right: 48%;"/> {% endcomment %}
{% comment %} {% if invoices.invoice_date is not None%} {% endcomment %}
<button id="myButton" class="btn btn-dark bg-dark my-4" style="left: 44%;" onclick="myFunction()
">Generate PDF</button>
   {% comment %} <p id="result"></p>
   <script>
      var count = 0;
      var button = document.getElementById("myButton");
      var result = document.getElementById("result");
      button.onclick = function() {
         count++;
         result.innerHTML = count;
         result.save()
      }
   </script> {% endcomment %}
{% comment %} {% endif %} {% endcomment %}
  </div>
<br>
<br>
 
</form>


</body>
<script>
    function myFunction() {
      var user='New';
      if(id_send_email.value == 'only_generate')
      {
      alert("Invoice Created  !");
      }
      else if(id_send_email.value == 'generate_and_send')
      {
      alert("Invoice Created and mail has been sent !");
      }
  }

    
function changestatus()
{
var paymentmode = document.getElementById('payment_status').value
var paymentmethod = document.getElementById('id_payment_method')
if(paymentmode=="PENDING")
{
paymentmethod.value = "----";
paymentmethod.disabled = true;
}
else
{
paymentmethod.disabled = false;
}

}
service = document.getElementById("service_element")
var k=1
function addElement(event)
{

k=k+1
// service.innerHTML = service.innerHTML + '<b>Service'+k+' :: </b><div class="row"><div class="col-25"><label><input type="text" class="form-control",id="desription'+k+'" name = "description'+k+'" placeholder="Description" ></label><br/></div><div class="col-25"><label onfocusout="n()" ><input type="number" name="cost'+k+'" class="form-control",id="cost'+k+'" placeholder="Cost Per Unit" required></label></div><div class="col-25"><label><input type="number" name="quantity'+k+'" class="form-control",id="quantity'+k+'" placeholder="quantity" required></label></div></div>';
}
$(document).ready(function(){
$("#btn").click(function(){
k=k+1
$("#service_element").append('<div class="row" style="margin-left:5.7rem ;" id="element'+k+'"><b ">Service'+k+'  </b><div class="col-25" ><label><textarea class="form-control" style="height: 159%;width: 130%;" row="4" id="description1'+k+'" name = "description'+k+'" placeholder="Description" ></textarea></label><br/></div><div class="col-25"><label onfocusout="n()" ><input type="number" name="cost'+k+'" class="form-control",id="cost'+k+'" placeholder="Cost Per Unit" required></label></div><div class="col-25"><label><input type="number" name="quantity'+k+'" class="form-control",id="quantity'+k+'" placeholder="quantity" required></label></div><div class="col"><button class="mt-3 btn btn-outline-secondary" onclick="del(this.id)" id="bttn'+k+'">Remove</button></div></div>');
});

});
function del(id)
{
var id= String(id)
id = id.slice(4)
document.getElementById("element"+id+"").remove()
k=k-1
}
id_t_2.rows = 2;
id_t_3.rows = 2;
id_t_4.rows = 2;
id_t_5.rows = 2;
$('#sacid').css('visibility','hidden')
  $("#sacid2").html($('#sacid').val())

</script>
</html>